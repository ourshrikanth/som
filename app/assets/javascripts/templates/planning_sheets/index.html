<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-9">
        <h2>DASHBOARD</h2>
    </div>
</div>

  <!--   <p><strong>Page:</strong> {{tableParams.page()}}
    <br/>
    <strong>Count per page:</strong> {{tableParams.count()}}
     <strong>total:</strong> {{tableParams.total()}} <br/>
    <br/>
    <strong>Sorting:</strong> {{tableParams.sorting()|json}}
    <strong>filter:</strong> {{tableParams.filter()|json}}
    <br/> -->


<div class="wrapper wrapper-content">
    <div class="row">
        <div class="col-lg-16">
            <div class="ibox float-e-margins">
                <div class="ibox-content">
<!--     <button  type="button" ng-click="tableParams.sorting('planning_sheets.id: desc')" class="btn btn-info">Clear Filters</button>
 -->   
 <button  type="button" ng-click="addSheet()" class="btn btn-info btn-xs">Add Sheet</button> 

 <button  type="button" ng-click="tableParams.sorting('planning_sheets.id: desc')" class="btn btn-info btn-xs pull-right">Clear sorting </button> 

              <!--   <form class="form-inline" role="form">
                        <div class="form-group planForms">
                            <label class="control-label" for="year">Year</label>
                            <select class="form-control" name="year" id="year" custom-years ng-model="tableParams.filter()['year']">
                                <option value="">select year</option>
                                <option ng-repeat="year in years" ng-selected="currentYear=={{year}}" value="{{year}}">{{year}}</option>
                            </select>
                        </div>
                        <div class="form-group planForms">
                            <label class="control-label" for="year">Week</label>
                            <select class="form-control" name="weekno" id="weekno" ng-model="tableParams.filter()['week_no']">
                                <option value="">select week</option>
                                <option ng-repeat="week in weeks" ng-selected="currentWeek=={{week.id}}" value="{{week.id}}">{{week.value}}</option>
                            </select>
                        </div>
                    </form> -->
                    <table ng-table="tableParams" class="table ng-table-responsive table-striped table-bordered" fixed-table-headers="scrollable-area" show-filter="true">
                        <tr ng-repeat="data in $data">
                           
                          <td data-title="'Week No'" sortable="'week_no'">
                                {{data.week_no}} ( {{data.from_date | date: 'dd-MM-yy'}} to {{data.to_date | date: 'dd-MM-yy'}} )
                            </td>
                            <td data-title="'Total Hours'" sortable="'total_hours'">
                                {{data.total_hours}}
                            </td>
                            <td data-title="'Planned Hours'" sortable="'planned_hours'">
                                {{data.planned_hours}}
                            </td>
                            <td data-title="'Utilization %'">
                                {{data.planned_hours * 100 / data.total_hours | number : 2}} %
                            </td>
                            <td data-title="'Status'" sortable="'status'"  filter="{ 'status': 'select' }" filter-data="getStatus($column)">
                                 <span class="label label-info">{{data.status | capitalize }}</span>
                            </td>
                            <td data-title="'Actions'">
                                <a ng-click="showSheet(data.id)" class="btn btn-sm btn-primary">Show</a>
                                <a ng-if="data.status!='submitted' && data.status!='approved'" ng-click="editSheet(data.id)" class="btn btn-sm btn-primary">Plan</a>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

